<template>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="apps">
          <AppCard v-for="app in apps"
                   :key="app.name"
                   :app="app"
                   @click="setLastClickedLink(app.name)"
          />
          <AppCard :app="{}" :isStub="true" />
          <AppCard :app="{}" :isStub="true" />
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { mapGetters } from 'vuex';
import AppCard from '../components/home/app_card.vue';

export default {
  components: { AppCard },
  data() {
    return {
      lastClickedApp: '',
      apps: [
        {
          title: 'Daily –ø–ª–∞–Ω', name: 'timetracker', descript: '–°–æ—Å—Ç–∞–≤–ª—è–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –Ω–∞ –¥–µ–Ω—å, –∑–∞—Å–µ–∫–∞–π –≤—Ä–µ–º—è, —Å–æ–∑–¥–∞–≤–∞–π –æ—Ç—á–µ—Ç.', emoji: '‚è±',
        },
        {
          title: '–ö–æ–ø–∏–ª–∫–∞', name: 'moneytracker', descript: '–ü–ª–∞–Ω–∏—Ä—É–π –±—é–¥–∂–µ—Ç, –≤–µ–¥–∏ —É—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤, –∫–æ–ø–∏ –¥–µ–Ω—å–≥–∏.', emoji: 'üí∏',
        },
      ],
    };
  },

  watch: {
    'currentUser._id': function () {
      this.$router.push({ name: this.lastClickedApp });
    },
  },

  computed: {
    ...mapGetters([
      'currentUser',
    ]),
  },

  methods: {
    setLastClickedApp(appName = '') {
      this.lastClickedApp = appName;
    },
  },
};
</script>

<style scoped>
.apps {
  display: flex;
  flex-wrap: wrap;
  align-content: flex-start;
  justify-content: flex-start;
  width: auto;
  margin: -10px;
}
</style>
